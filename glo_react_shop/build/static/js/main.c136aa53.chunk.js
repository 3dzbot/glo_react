(this.webpackJsonpglo_react_shop=this.webpackJsonpglo_react_shop||[]).push([[0],{32:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var c,i,r,o,a,s,b,u,l,p,j,d,x,h,f,g,O,m,v,k,y,w,I,C=t(2),z=t.n(C),S=t(23),B=t.n(S),D=(t(32),t(7)),L=t(14),F=(t(33),t(35),t(3)),A=t(4),R=Object(A.a)(c||(c=Object(F.a)(['\nhtml {\n    box-sizing: border-box;\n}\n*,*:before,*:after{box-sizing: inherit;}\nbody {\n    background-color: #f0f0f0;\n    font-family: Roboto, sans-serif;\n    margin: 0;\n    font-size: 20px;\n    color: #000;\n}\nimg {\n    max-width: 100%;\n    height: auto;\n}\na{\n    text-decoration: none;\n    color: inherit;\n}\nul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n}\nh1,h2,h3 {\n    font-family: Pacifico, sans-serif;\n    padding: 0;\n    margin: 0;\n}\ninput {\n    appearance: textfield;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n}\ninput[type="button"], button{\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    flex: 0 0 auto;\n    cursor: pointer;\n    color: #fff;\n    border-radius: 0;\n    border: none;\n    background: transparent;\n    font: inherit;\n}\np {\n    padding: 0;\n    margin: 0;\n}\n']))),P=t.p+"static/media/logo.cc8d31f6.svg",E=t.p+"static/media/user.b604d1e5.svg",N=t(1),T=A.b.header(i||(i=Object(F.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999;\n    height: 80px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px;\n    background-color: #299B01;\n    color: #fff;\n"]))),U=A.b.div(r||(r=Object(F.a)(["\n    display: inline-flex;\n    align-items: center;\n"]))),_=A.b.h1(o||(o=Object(F.a)(["\n    font-size: 24px;\n    margin-left: 15px;\n"]))),G=A.b.img(a||(a=Object(F.a)(["\n    width: 50px;\n"]))),J=A.b.button(s||(s=Object(F.a)(["\n    flex-direction: column;\n"]))),M=A.b.div(b||(b=Object(F.a)(["\n    display: flex;\n    align-items: center;\n    text-align: center;\n"]))),V=A.b.span(u||(u=Object(F.a)(["\n    font-size: 20px;\n    font-weight: 700;\n    cursor: pointer;\n    margin-right: 30px;\n"]))),X=A.b.figure(l||(l=Object(F.a)(["\n    margin: 0 30px;\n"]))),H=function(n){var e=n.authentication,t=n.logIn,c=n.logOut;return Object(N.jsxs)(T,{children:[Object(N.jsxs)(U,{children:[Object(N.jsx)(G,{src:P,alt:"logo"}),Object(N.jsx)(_,{children:"zDonald's"})]}),e?Object(N.jsxs)(M,{children:[Object(N.jsxs)(X,{children:[Object(N.jsx)("img",{src:E,alt:e.displayName}),Object(N.jsx)("figcaption",{children:e.displayName})]}),Object(N.jsx)(V,{title:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",onClick:c,children:"X"})]}):Object(N.jsx)(J,{onClick:t,children:Object(N.jsxs)(X,{children:[Object(N.jsx)("img",{src:E,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0445\u043e\u0434\u0430"}),Object(N.jsx)("figcaption",{children:"\u0432\u043e\u0439\u0442\u0438"})]})})]})},K=function(n){var e=n.topping&&n.topping.filter((function(n){return n.checked})).length,t=.1*n.price*e;return(n.price+t)*n.count},W=function(n){return n.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})},q=A.b.ul(p||(p=Object(F.a)(["\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n"]))),Q=A.b.li(j||(j=Object(F.a)(["\n    width: 400px;\n    height: 155px;\n    background-image: ",";\n    position: relative;\n    background-position: center;\n    background-size: cover;\n    margin-top: 30px;\n    margin-right: 30px;\n    padding: 15px;\n    color: white;\n    font-size: 30px;\n    z-index: 1;\n    transition: box-shadow 0.2s linear;\n    &:after {\n        content: '';\n        position: absolute;\n        transition: opacity 0.2s linear;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        background-color: black;\n        opacity: 30%;\n        z-index: -1;\n    }\n    &:hover {\n        cursor: pointer;\n        box-shadow: inset 0 0 20px 10px rgba(0,0,0,50%);\n        &:after {\n            opacity: 0;\n        }\n    }\n"])),(function(n){var e=n.img;return"url(".concat(e,")")})),Y=function(n){var e=n.itemList,t=n.setOpenItem;return Object(N.jsx)(q,{children:e.map((function(n){return Object(N.jsxs)(Q,{img:n.img,onClick:function(){return t(n)},children:[Object(N.jsx)("p",{children:n.name}),Object(N.jsx)("p",{children:W(n.price)})]},n.id)}))})},Z=A.b.section(d||(d=Object(F.a)(["\n    position: relative;\n\tdisplay: flex;\n\twidth: 100%;\n    &:after {\n\t\tcontent: '';\n\t\tpadding-top: 210px;\n\t}\n"]))),$=A.b.img(x||(x=Object(F.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n"]))),nn=function(n){var e=n.src,t=n.alt;return Object(N.jsx)(Z,{children:Object(N.jsx)($,{src:e,alt:t})})},en=t(19),tn=t.n(en),cn=t(27),rn=t(8),on=A.b.main(h||(h=Object(F.a)(["\n    background-color: #ccc;\n    margin-top: 80px;\n    margin-left: 380px;\n"]))),an=A.b.section(f||(f=Object(F.a)(["\npadding: 30px;\n"]))),sn=function(n){var e=n.setOpenItem,t=function(){var n=Object(C.useState)(null),e=Object(rn.a)(n,2),t=e[0],c=e[1],i=Object(C.useState)(null),r=Object(rn.a)(i,2),o=r[0],a=r[1];return Object(C.useEffect)((function(){!function(){var n=Object(cn.a)(tn.a.mark((function n(){var e,t;return tn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("DB.json");case 3:return e=n.sent,n.next=6,e.json();case 6:t=n.sent,c(t),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}()()}),[]),{response:t,error:o}}(),c=t.response;return Object(N.jsxs)(on,{children:[Object(N.jsx)(nn,{src:"./banners/banner.png",alt:"banner"}),t.response?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(an,{children:[Object(N.jsx)("h2",{children:"Burgers"}),Object(N.jsx)(Y,{itemList:c.burger,setOpenItem:e})]}),Object(N.jsxs)(an,{children:[Object(N.jsx)("h2",{children:"Drinks"}),Object(N.jsx)(Y,{itemList:c.other,setOpenItem:e})]})]}):t.error?Object(N.jsx)("div",{children:"Error"}):Object(N.jsx)("div",{children:"Loading..."})]})},bn=t(12),un=A.b.button(g||(g=Object(F.a)(["\n    width: 250px;\n    height: 65px;\n    background-color: #299B01;\n    color: #fff;\n    font-size: 21px;\n    margin-left: auto;\n    margin-right: auto;\n    border: 1px solid #fff;\n    margin-top: auto;\n    transition-property: color, background-color, border-color;\n    transition-duration: .2s;\n    &:hover {\n        background-color: #fff;\n        color: #299B01;\n        border-color: #299B01;\n    }\n    &:disabled {\n        background-color: #c4c4c4;\n        border-color: #c4c4c4;\n        color: #000;\n        cursor: not-allowed;\n    }\n"]))),ln=A.b.div(O||(O=Object(F.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: auto;\n    margin-bottom: auto;\n    width: 100%;\n    max-width: calc(100% - 60px);\n"]))),pn=A.b.input(m||(m=Object(F.a)(["\n    width: 50px;\n    font-size: 20px;\n\n"]))),jn=A.b.button(v||(v=Object(F.a)(["\n    background: transparent;\n    color: #000;\n"]))),dn=A.b.div(k||(k=Object(F.a)(["\n    display: flex;\n    justify-content: space-between;\n"])));function xn(n){var e=n.count,t=n.setCount,c=n.onChange;return Object(N.jsxs)(ln,{children:[Object(N.jsx)("span",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(N.jsxs)(dn,{children:[Object(N.jsx)(jn,{disabled:e<=1,onClick:function(){return t(e-1)},children:"-"}),Object(N.jsx)(pn,{type:"number",min:"1",max:"100",value:e<1?1:e,onChange:c}),Object(N.jsx)(jn,{onClick:function(){return t(e+1)},children:"+"})]})]})}var hn,fn,gn,On=A.b.div(y||(y=Object(F.a)(["\ncolumn-count: 2;\nmax-width: 500px;\nmargin: 0 auto;\ncolumn-gap: 15px;\n"]))),mn=A.b.label(w||(w=Object(F.a)(["\n    cursor: pointer;\n    display: block;\n"]))),vn=A.b.input(I||(I=Object(F.a)(["\n    cursor: pointer;\n    margin-right: 5px;\n"])));function kn(n){var e=n.toppings,t=n.checkToppings;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u043a\u0438"}),Object(N.jsx)(On,{children:e.map((function(n,e){return Object(N.jsxs)(mn,{children:[Object(N.jsx)(vn,{type:"checkbox",checked:n.checked,onChange:function(){return t(e)}}),n.name]},e)}))})]})}var yn=A.b.div(hn||(hn=Object(F.a)(["\n    column-count: 2;\n    max-width: 500px;\n    margin: 0 auto;\n    column-gap: 15px;\n"]))),wn=A.b.input(fn||(fn=Object(F.a)(["\n    cursor: pointer;\n    margin-right: 5px;\n"]))),In=A.b.label(gn||(gn=Object(F.a)(["\n    cursor: pointer;\n    display: block;\n"])));function Cn(n){var e=n.openItem,t=n.choice,c=n.changeChoices;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{children:"Choices"}),Object(N.jsx)(yn,{children:e.choices.map((function(n,e){return Object(N.jsxs)(In,{children:[Object(N.jsx)(wn,{type:"radio",name:"choices",checked:t===n,value:n,onChange:c}),n]},e)}))})]})}var zn,Sn,Bn,Dn,Ln,Fn;var An,Rn,Pn,En,Nn,Tn,Un,_n,Gn,Jn,Mn,Vn,Xn,Hn,Kn=A.b.div(zn||(zn=Object(F.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,.5);\n    z-index: 20;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),Wn=A.b.div(Sn||(Sn=Object(F.a)(["\n    background: #fff;\n    width: 600px;\n    height: 600px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 40px;\n"]))),qn=A.b.div(Bn||(Bn=Object(F.a)(["\n    width: 100%;\n    height: 200px;\n    background-image: url(",");\n    background-size: cover;\n    background-position: center;\n    margin-bottom: 20px;\n"])),(function(n){return n.img})),Qn=A.b.div(Dn||(Dn=Object(F.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    align-items: center;\n    max-width: calc(100% - 60px);\n"]))),Yn=A.b.span(Ln||(Ln=Object(F.a)(["\n    font-family: Pacifico, sans-serif;\n    font-size: 30px;\n"]))),Zn=A.b.div(Fn||(Fn=Object(F.a)(["\n    display: flex;\n    justify-content: space-between;\n"]))),$n=function(n){var e=n.openItem,t=n.setOpenItem,c=n.orders,i=n.setOrders,r=function(n){var e=Object(C.useState)(n||1),t=Object(rn.a)(e,2),c=t[0],i=t[1];return{count:c,setCount:i,onChange:function(n){return i(n.target.value)}}}(e.count),o=function(n){var e=n.topping?n.topping:n.toppings?function(n){return n.map((function(n){return{name:n,checked:!1}}))}(n.toppings):[],t=Object(C.useState)(e),c=Object(rn.a)(t,2),i=c[0],r=c[1];return{toppings:i,checkToppings:function(n){r(i.map((function(e,t){return t===n&&(e.checked=!e.checked),e})))}}}(e),a=function(n){var e=Object(C.useState)(),t=Object(rn.a)(e,2),c=t[0],i=t[1];return{choice:c,changeChoices:function(n){i(n.target.value)}}}(),s=e.index>-1,b=Object(D.a)(Object(D.a)({},e),{},{count:r.count,topping:o.toppings,choice:a.choice});return Object(N.jsx)(Kn,{id:"overlay",onClick:function(n){"overlay"===n.target.id&&t(null)},children:Object(N.jsxs)(Wn,{children:[Object(N.jsx)(qn,{img:e.img}),Object(N.jsxs)(Qn,{children:[Object(N.jsx)(Yn,{children:e.name}),Object(N.jsx)(Yn,{children:e.price.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})})]}),Object(N.jsx)(xn,Object(D.a)({},r)),e.toppings&&Object(N.jsx)(kn,Object(D.a)({},o)),e.choices&&Object(N.jsx)(Cn,Object(D.a)(Object(D.a)({},a),{},{openItem:e})),Object(N.jsxs)(Zn,{children:[Object(N.jsx)("span",{children:"\u0426\u0435\u043d\u0430:"}),Object(N.jsx)("span",{children:W(K(b))})]}),Object(N.jsx)(un,{onClick:s?function(){var n=Object(bn.a)(c);n[e.index]=b,i(n),t(null)}:function(){i([].concat(Object(bn.a)(c),[b])),t(null)},disabled:b.choices&&!b.choice,children:s?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},ne=t.p+"static/media/trash.214772e6.svg",ee=A.b.li(An||(An=Object(F.a)(["\n    display: flex;\n    margin: 15px 0;\n    cursor: pointer;\n"]))),te=A.b.span(Rn||(Rn=Object(F.a)(["\n    flex-grow: 1;\n"]))),ce=A.b.span(Pn||(Pn=Object(F.a)(["\n    //margin-left: 20px;\n    padding-left: 5px;\n    //margin-right: 10px;\n    padding-right: 5px;\n    min-width: 125px;\n    text-align: right;\n"]))),ie=A.b.button(En||(En=Object(F.a)(["\n    width: 24px;\n    height: 24px;\n    background-color: transparent;\n    background-image: url(",");\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n"])),ne),re=A.b.div(Nn||(Nn=Object(F.a)(["\n    flex-grow: 1;\n"]))),oe=A.b.div(Tn||(Tn=Object(F.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n"]))),ae=A.b.span(Un||(Un=Object(F.a)(["\n    font-size: 14px;\n    line-height: 16px;\n    color: #9A9A9A;\n    margin-right: 4px;\n"]))),se=function(n){var e=n.order,t=n.index,c=n.deleteItem,i=n.setOpenItem,r=e.topping.filter((function(n){return n.checked})).map((function(n){return n.name})).join(", "),o=Object(C.useRef)(null);return Object(N.jsxs)(ee,{onClick:function(n){n.target!==o.current&&i(Object(D.a)(Object(D.a)({},e),{},{index:t}))},children:[Object(N.jsxs)(re,{children:[Object(N.jsxs)(te,{children:[e.name," ",e.choice]}),Object(N.jsx)(oe,{children:r&&Object(N.jsx)(ae,{children:r})})]}),Object(N.jsx)("span",{children:e.count}),Object(N.jsx)(ce,{children:W(K(e))}),Object(N.jsx)(ie,{ref:o,onClick:function(){return c(t)}})]})},be=A.b.section(_n||(_n=Object(F.a)(["\n    position: fixed;\n    top: 80px;\n    left: 0;\n    bottom: 0;\n    background: #fff;\n    width: 380px;\n    max-width: 100%;\n    box-shadow: 3px 4px 5px rgba(0,0,0,.25);\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n"]))),ue=A.b.h2(Gn||(Gn=Object(F.a)(["\n    margin-bottom: 30px;\n"]))),le=A.b.div(Jn||(Jn=Object(F.a)(["\n    flex-grow: 1;\n"]))),pe=A.b.ul(Mn||(Mn=Object(F.a)(["\n"]))),je=A.b.div(Vn||(Vn=Object(F.a)(["\n    display: flex;\n    margin-bottom: 30px;\n    & span:first-child {\n        flex-grow: 1;\n    }\n"]))),de=A.b.p(Xn||(Xn=Object(F.a)(["\n    text-align: center;\n"]))),xe=A.b.span(Hn||(Hn=Object(F.a)(["\n    text-align: right;\n    min-width: 65px;\n    margin-left: 20px;\n"]))),he={itemName:["name"],price:["price"],count:["count"],topping:["topping",function(n){return n.filter((function(n){return n.checked})).map((function(n){return n.name}))},function(n){return n.length?n:"no toppings"}],choice:["choice",function(n){return n||"no choices"}]},fe=function(n){var e=n.orders,t=n.setOrders,c=n.setOpenItem,i=n.authentication,r=n.logIn,o=(0,n.firebaseDatabase)(),a=function(){var n=e.map(function(n){var e=Object.keys(n);return function(t){return e.reduce((function(e,c){return e[c]=n[c].reduce((function(n,e,c){return c?e(n):t[e]}),null),e}),{})}}(he));o.ref("orders").push().set({nameClient:i.displayName,email:i.email,order:n}),t([])},s=function(n){var c=Object(bn.a)(e);c.splice(n,1),t(c)},b=e.reduce((function(n,e){return K(e)+n}),0),u=e.reduce((function(n,e){return e.count+n}),0);return Object(N.jsxs)(be,{children:[Object(N.jsx)(ue,{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"}),Object(N.jsx)(le,{children:e.length?Object(N.jsx)(pe,{children:e.map((function(n,e){return Object(N.jsx)(se,{order:n,deleteItem:s,index:e,setOpenItem:c},e)}))}):Object(N.jsx)(de,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0443\u0441\u0442"})}),Object(N.jsxs)(je,{children:[Object(N.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e"}),Object(N.jsx)("span",{children:u}),Object(N.jsx)(xe,{children:W(b)})]}),i?Object(N.jsx)(un,{onClick:function(){a()},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"}):Object(N.jsx)(un,{onClick:r,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})};L.a.initializeApp({apiKey:"AIzaSyDceNTdwVGwzfpvkutS58dHuzX8VOOkmSM",authDomain:"gloreact-3a2b0.firebaseapp.com",databaseURL:"https://gloreact-3a2b0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"gloreact-3a2b0",storageBucket:"gloreact-3a2b0.appspot.com",messagingSenderId:"354995301817",appId:"1:354995301817:web:929cc08f643fd642a89a68"});var ge=function(){var n=function(n){var e=Object(C.useState)(null),t=Object(rn.a)(e,2),c=t[0],i=t[1],r=n(),o=new n.GoogleAuthProvider;return Object(C.useEffect)((function(){r.onAuthStateChanged((function(n){i(n||null)}))}),[r,c]),{authentication:c,logIn:function(){return r.signInWithPopup(o)},logOut:function(){return r.signOut().catch((function(n){return console.error(n)}))}}}(L.a.auth),e=function(){var n=Object(C.useState)(null),e=Object(rn.a)(n,2);return{openItem:e[0],setOpenItem:e[1]}}(),t=function(){var n=Object(C.useState)([]),e=Object(rn.a)(n,2);return{orders:e[0],setOrders:e[1]}}();return function(n){Object(C.useEffect)((function(){document.title=n?n.name:"zDonalds"}),[n])}(e.openItem),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(R,{}),Object(N.jsx)(H,Object(D.a)({},n)),Object(N.jsx)(fe,Object(D.a)(Object(D.a)(Object(D.a)(Object(D.a)({},t),e),n),{},{firebaseDatabase:L.a.database})),Object(N.jsx)(sn,Object(D.a)({},e)),e.openItem&&Object(N.jsx)($n,Object(D.a)(Object(D.a)({},e),t))]})},Oe=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;t(n),c(n),i(n),r(n),o(n)}))};B.a.render(Object(N.jsx)(z.a.StrictMode,{children:Object(N.jsx)(ge,{})}),document.getElementById("root")),Oe()}},[[43,1,2]]]);
//# sourceMappingURL=main.c136aa53.chunk.js.map